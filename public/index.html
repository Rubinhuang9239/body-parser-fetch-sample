<html>
  <body>

    <input id='name' />
    <input id='age' />
    <input id='gender' />

    <button id="button">Upload Message</button>

    <script>

      // post data
      // post data ----> json
      // post success handler
      // Fetch JS API
      var myButton = document.getElementById('button');

      myButton.addEventListener('click', async() => {
        var inputName = document.getElementById('name');
        var inputAge = document.getElementById('age');
        var inputGender = document.getElementById('gender');
        const myData = JSON.stringify({
                                      name: inputName.value,
                                      age: inputAge.value,
                                      gender: inputGender.value
                                    });
        var respond = await (
          fetch('/upload', {
            headers: {'Content-Type': 'application/json'},
            method: 'POST',
            body: myData
          })
        );
        var text = await respond.text();
        console.log(text);
      })

    </script>
  </body>
</html>
